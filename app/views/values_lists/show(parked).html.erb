<% provide(:title, 'Managing lists of values') %>

  <h1><%= @values_list.name %></h1>

  <ul class="mid_menu">
    <li><%= link_to 'Edit', edit_values_list_path(@values_list) %> |</li>
    <li><%= link_to 'Up', values_lists_path %> |</li>
    <li><%= link_to 'Destroy', @values_list, confirm: 'Are you sure?', method: :delete %></li>
  </ul>

<!-- <p id="notice"><%= notice %></p> -->


      <div class="row">
        <div class="col-md-2 text-right">Name:
        </div>
        <div class="col-md-3"><%= @values_list.name%>
        </div>
        <div class="col-md-1 text-right">Code:
        </div>
        <div class="col-md-2"><%= @values_list.code%>
        </div>
        <div class="col-md-2 text-right">Unique id:
        </div>
        <div class="col-md-1"><%= @values_list.id%>
        </div>
      </div>

      <div class="row">
        <div class="col-md-2 text-right">Software:
        </div>
        <div class="col-md-3"><%= @values_list.software.name%>
        </div>
        <div class="col-md-1 text-right">Table name:
        </div>
        <div class="col-md-2"><%= @values_list.table_name%>
        </div>
      </div>

      <div class="row">
        <div class="col-md-2 text-right">Description:
        </div>
        <div class="col-md-6"><pre><%= @values_list.description%></pre>
        </div>
      </div>

      <div class="row">
        <div class="col-md-2 text-right">Owner:
        </div>
        <div class="col-md-2"><%= @values_list.owner.login%>
        </div>
        <div class="col-md-2 text-right">Created by:
        </div>
        <div class="col-md-2"><%= @values_list.created_by%>
        </div>
        <div class="col-md-2 text-right">Updated by:
        </div>
        <div class="col-md-2"><%= @values_list.updated_by%>
        </div>
      </div>

      <div class="row">
        <div class="col-md-2 text-right">Playground id:
        </div>
        <div class="col-md-2"><%= @values_list.playground_id%>
        </div>
        <div class="col-md-2 text-right">Created at:
        </div>
        <div class="col-md-2"><%= @values_list.created_at%>
        </div>
        <div class="col-md-2 text-right">Updated at:
        </div>
        <div class="col-md-2"><%= @values_list.updated_at%>
        </div>
      </div>

  <div class="tabbable">
    <ul class="nav nav-tabs">
      <li class="active"><a href="#tab1" data-toggle="tab">Values</a></li>
      <li><a href="#tab2" data-toggle="tab">Mappings</a></li>
    </ul>
    <div class="tab-content">

    <div class="tab-pane active" id="tab1">
<!-- Tab content for Values -->

      <table class="table table-striped table-condensed">
        <tr align="left">
          <th> Name </th>
          <th> Code </th>
          <th> Value </th>
          <th> Description </th>
          <th> Updated by </th>
          <th> Updated at </th>
        </tr>
        <% @values_list.values.order("name ASC").each do |value| %>
        <tr align="left">
          <td valign="top"> <%=link_to value.name, edit_value_path(value) %> </td>
          <td class="col_narrow"> <%=value.value_code%> </td>
          <td class="col_narrow"> <%=value.value_caption%> </td>
          <td class="col_medium"> <%=link_to value.description, value%> </td>
          <td valign="top"> <%=value.updated_by%> </td>
          <td valign="top"> <%=value.updated_at%> </td>
        </tr>
        <% end%>
      </table>

      <%= link_to "Add value", new_values_list_value_path(@values_list) %>

    </div>
    <div class="tab-pane" id="tab2">
<!-- Tab content for Mappings -->

<table class="table table-striped table-condensed">
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Code</th>
      <th>Owner</th>
      <th>Source list</th>
      <th>Target list</th>
    </tr>
  </thead>

  <tbody>
    <% @values_list.mappings_lists.each do |mappings_list| %>
      <tr>
        <td><%= link_to mappings_list.name, mappings_list %></td>
        <td><%= mappings_list.description %></td>
        <td><%= mappings_list.code %></td>
        <td><%= mappings_list.owner.login %></td>
        <td><%= link_to @mappings_list.source_list.name, @mappings_list.source_list%>
        <td><%= link_to @mappings_list.target_list.name, @mappings_list.target_list%>
      </tr>
    <% end %>
  </tbody>
</table>

    </div>
  </div>
</div>

